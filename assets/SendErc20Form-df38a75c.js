


import{_ as v,u as f,r as a,o as s,b as m,w as u,e as t,B as c,D as y,g as n,f as E,a as k,t as g,T as b}from"./index-aaecdc93.js";import{u as B}from"./useErc20TokenStore-157d8b1b.js";import{u as C}from"./useValidateModule-1f635df4.js";import"./useEtherJsStore-51f2c7eb.js";import"./useBtcStore-b1c51fda.js";const V=f({name:"SendEtherForm",data(){return{isLoading:!1,transaction:"",form:{receiver:"",amount:""},errors:this.validateModule.errorHandlerModule.value}},setup(){const e=B(),r=C();async function i(l){return await e.sendCurrency(l)}return{erc20Token:e,validateModule:r,sendCurrency:i}},methods:{async submitForm(){try{const e={receiver:this.form.receiver.trim(),amount:this.form.amount};if(!this.validate(e.receiver,e.amount))return;this.isLoading=!0,this.transaction=await this.sendCurrency(e).then(r=>(alert(r.hash),r.hash)),this.form={receiver:"",amount:""}}catch(e){console.log("SubmitForm error: ",e)}finally{this.isLoading=!1}},validate(e,r){return this.validateModule.validateForm([{key:"address",value:e,method:"isNotEmpty"},{key:"amount",value:r,method:"isNotEmpty"},{key:"address",value:e,method:"isEthAddressValid"},{key:"amount",value:r,method:"isValueOverZero"},{key:"amount",value:r,method:"isAmountNoOverERC20Balance"}])}},computed:{getEtherscanLink(){return this.transaction?`https://sepolia.etherscan.io/tx/${this.transaction}`:null}}}),_={class:"flex-center mb-5"},L={key:1,class:"scan-link"},N=["href"];function F(e,r,i,l,S,$){const p=a("BaseLoading"),d=a("BaseInput"),h=a("BaseButton");return s(),m(b,{mode:"out-in"},{default:u(()=>[t("div",null,[e.isLoading?(s(),m(p,{key:0})):c("",!0),t("form",{class:y(e.transaction?"mb-2":"")},[t("div",_,[n(d,{modelValue:e.form.receiver,"onUpdate:modelValue":r[0]||(r[0]=o=>e.form.receiver=o),label:"Receiver",class:"mr-2",error:e.errors.getError("address"),onClearError:r[1]||(r[1]=o=>e.errors.clearError("address"))},null,8,["modelValue","error"]),n(d,{modelValue:e.form.amount,"onUpdate:modelValue":r[2]||(r[2]=o=>e.form.amount=o),label:"Amount",class:"ml-2",type:"number",error:e.errors.getError("amount"),onClearError:r[3]||(r[3]=o=>e.errors.clearError("amount"))},null,8,["modelValue","error"])]),n(h,{buttonColor:"#E95420",onClick:e.submitForm},{default:u(()=>[E(" SEND ")]),_:1},8,["onClick"])],2),e.getEtherscanLink?(s(),k("div",L,[t("a",{href:e.getEtherscanLink,target:"_blank",class:"main-black-text"}," Etherscan: "+g(e.transaction),9,N)])):c("",!0)])]),_:1})}const I=v(V,[["render",F],["__scopeId","data-v-1dd32b35"]]);export{I as default};
