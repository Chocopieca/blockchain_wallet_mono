


import{L as o,K as C}from"./index-aaecdc93.js";import{u as P,c as k,n as g,E as w,e as O}from"./useBtcStore-b1c51fda.js";import{u as V}from"./useErc20TokenStore-157d8b1b.js";import{u as K,A as N}from"./useEtherJsStore-51f2c7eb.js";class S{errors={};setError(t,s){this.errors[t]||(this.errors[t]=s)}getError(t){return this.errors[t]??null}clearErrors(){this.errors={}}clearError(t){delete this.errors[t]}}function W(){const u=V(),t=P(),s=K(),n=o(new S),a=o(u.getCurrentBalance),l=o(s.userEtherBalance),i=o(t.getCurrentWallet.btcBalance),c=o(t.getCurrentWallet.network);function f(r){return typeof r=="number"&&+r==0}function d(r,e){return!f(e)&&!e?(n.value.setError(r,`${r[0].toUpperCase()}${r.slice(1)} is required.`),!1):!0}function v(r,e){return N(e)?!0:(n.value.setError(r,"Address not valid."),!1)}function E(r,e){return k.toOutputScript(e,c.value)?!0:(n.value.setError(r,"Address not valid."),!1)}function m(r,e){return e<=0?(n.value.setError(r,"Amount must be more than 0."),!1):!0}function h(r,e){return e>+a.value?(n.value.setError(r,"Amount over your balance."),!1):!0}function p(r,e){return e>+l.value?(n.value.setError(r,"Amount over your balance."),!1):!0}function A(r,e){return e>+i.value?(n.value.setError(r,"Amount over your balance."),!1):!0}function B(r,e){return y(e)?!0:(n.value.setError(r,"Incorrect private key."),!1)}function y(r){try{const e=g.testnet,x=w(O).fromPrivateKey(C.Buffer.from(r,"hex"),{network:e});return!0}catch(e){return console.log("err",e),!1}}function b(r){return!r.map(e=>this[e.method](e.key,e.value)).includes(!1)}return{isAmountNoOverERC20Balance:h,isAmountNoOverEtherBalance:p,isValueOverZero:m,isEthAddressValid:v,isNotEmpty:d,isAmountNoOverBtcBalance:A,isBtcAddressValid:E,isPrivateKey:B,validateForm:b,errorHandlerModule:n}}export{W as u};
