


import{u as f}from"./useBtcStore-b1c51fda.js";import{u as _}from"./useValidateModule-1f635df4.js";import{_ as b,r as u,o as B,a as C,e as a,g as s,w as m,f as y,p as K,i as k}from"./index-aaecdc93.js";import"./useEtherJsStore-51f2c7eb.js";import"./useErc20TokenStore-157d8b1b.js";const w={name:"GenerateBtcAddress",data(){return{mnemonic:"",privateKey:"",publicKey:"",errors:this.validateModule.errorHandlerModule.value}},setup(){const t=f(),e=_();function l(){t.initNetwork()}async function i(){return await t.createNewBtcWallet()}async function o(r){return await t.initBtcWallet(r)}return{useBtc:t,validateModule:e,initNetwork:l,createNewBtcWallet:i,initBtcWallet:o}},mounted(){this.initNetwork()},methods:{async copyURL(t){try{await navigator.clipboard.writeText(t),alert("Copied")}catch{alert("Cannot copy")}},async onGenerateAddress(){const t=await this.createNewBtcWallet(),{privateKey:e,publicKey:l,mnemonic:i}=t;this.privateKey=e,this.publicKey=l,this.mnemonic=i},async onConnectAddress(){this.validate(this.privateKey)&&(this.isLoading=!0,await this.initBtcWallet(this.privateKey),this.isLoading=!1)},validate(t){return this.validateModule.validateForm([{key:"privateKey",value:t,method:"isNotEmpty"},{key:"privateKey",value:t,method:"isPrivateKey"}])}}},v=t=>(K("data-v-77fe7ad1"),t=t(),k(),t),h=v(()=>a("h3",null,"Generate BTC address",-1)),V=v(()=>a("div",{class:"mb-5"},"Generate a BTC address for your wallet, then connect it.",-1)),x={class:"mb-5"},N={class:"flex-center"},G={class:"flex-center"},I={class:"flex-center"};function A(t,e,l,i,o,r){const c=u("BaseInput"),d=u("CopyIcon"),p=u("BaseButton");return B(),C("form",null,[h,V,a("div",x,[a("div",N,[s(c,{modelValue:o.mnemonic,"onUpdate:modelValue":e[0]||(e[0]=n=>o.mnemonic=n),label:"Mnemonic",animateTitle:!1,class:"mr-5",disabled:""},null,8,["modelValue"]),s(d,{class:"cursor-pointer",onClick:e[1]||(e[1]=n=>r.copyURL(o.mnemonic))})]),a("div",G,[s(c,{modelValue:o.privateKey,"onUpdate:modelValue":e[2]||(e[2]=n=>o.privateKey=n),label:"Private key",animateTitle:!1,class:"mr-5",disabled:"",error:o.errors.getError("privateKey"),onClearError:e[3]||(e[3]=n=>o.errors.clearError("privateKey"))},null,8,["modelValue","error"]),s(d,{class:"cursor-pointer",onClick:e[4]||(e[4]=n=>r.copyURL(o.privateKey))})]),a("div",I,[s(c,{modelValue:o.publicKey,"onUpdate:modelValue":e[5]||(e[5]=n=>o.publicKey=n),label:"Public key",animateTitle:!1,class:"mr-5",disabled:""},null,8,["modelValue"]),s(d,{class:"cursor-pointer",onClick:e[6]||(e[6]=n=>r.copyURL(o.publicKey))})])]),s(p,{buttonColor:"#E95420",class:"connect-button mb-5",onClick:r.onGenerateAddress},{default:m(()=>[y(" Generate address ")]),_:1},8,["onClick"]),s(p,{buttonColor:"#E95420",class:"connect-button mb-5",onClick:r.onConnectAddress},{default:m(()=>[y(" Connect address ")]),_:1},8,["onClick"])])}const M=b(w,[["render",A],["__scopeId","data-v-77fe7ad1"]]);export{M as default};
